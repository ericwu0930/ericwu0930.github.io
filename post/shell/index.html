<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="Eric&#39;s Blog">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="https://ericwu0930.github.io/img/roof.jpg">
    <meta property="twitter:image" content="https://ericwu0930.github.io/img/roof.jpg" />
    

    
    <meta name="title" content="Shell命令入门" />
    <meta property="og:title" content="Shell命令入门" />
    <meta property="twitter:title" content="Shell命令入门" />
    

    
    <meta name="description" content="吴昊，学生, 东川路男子职业学院，矛盾体 | 这里是 吴昊 的博客，与你一起发现更大的世界。">
    <meta property="og:description" content="吴昊，学生, 东川路男子职业学院，矛盾体 | 这里是 吴昊 的博客，与你一起发现更大的世界。" />
    <meta property="twitter:description" content="吴昊，学生, 东川路男子职业学院，矛盾体 | 这里是 吴昊 的博客，与你一起发现更大的世界。" />
    

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="吴昊, Eric Wu, 吴昊的博客, Eric&#39;s Blog, 博客, 个人网站, 互联网, Web, 云原生, PaaS, Istio, Kubernetes, 微服务, Microservice">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>Shell命令入门 | 吴昊的博客 | Eric&#39;s Blog</title>

    <link rel="canonical" href="/post/shell/">

    
    
    
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/css/hugo-theme-cleanwhite.min.css">

    
    <link rel="stylesheet" href="/css/zanshang.css">

    
    <link href="https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome@5.15.1/css/all.css" rel="stylesheet" type="text/css">

    
    

    
    <script src="/js/jquery.min.js"></script>

    
    <script src="/js/bootstrap.min.js"></script>

    
    <script src="/js/hux-blog.min.js"></script>

    
    <script src="/js/lazysizes.min.js"></script>

    
    

</head>



<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-158682233-1', 'auto');
	
	ga('send', 'pageview');
}
</script>





<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">Eric&#39;s Blog</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">All Posts</a>
                    </li>
                    
                        
                        <li>
                            <a href="/categories/java">java</a>
                        </li>
                        
                        <li>
                            <a href="/categories/jvm">jvm</a>
                        </li>
                        
                        <li>
                            <a href="/categories/linux">linux</a>
                        </li>
                        
                        <li>
                            <a href="/categories/mysql">mysql</a>
                        </li>
                        
                        <li>
                            <a href="/categories/os">os</a>
                        </li>
                        
                        <li>
                            <a href="/categories/redis">redis</a>
                        </li>
                        
                        <li>
                            <a href="/categories/spring">spring</a>
                        </li>
                        
                        <li>
                            <a href="/categories/trival">trival</a>
                        </li>
                        
                        <li>
                            <a href="/categories/trivial">trivial</a>
                        </li>
                        
                        <li>
                            <a href="/categories/%E7%AE%97%E6%B3%95">算法</a>
                        </li>
                        
                        <li>
                            <a href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C">计算机网络</a>
                        </li>
                        
                        <li>
                            <a href="/categories/%E9%9A%8F%E7%AC%94">随笔</a>
                        </li>
                        
                    
                    
		    
                        <li><a href="/top/about/">ABOUT</a></li>
                    
		            <li>
                        <a href="/search"><i class="fa fa-search"></i></a>
		           </li>
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>




<style type="text/css">
    header.intro-header {
        background-image: url('/img/roof.jpg')
    }
</style>

<header class="intro-header" >

    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0" title="学习笔记">
                            学习笔记
                        </a>
                        
                    </div>
                    <h1>Shell命令入门</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        
                            Posted by 
                            
                                     &#34;Eric&#34;
                             
                            on 
                            Tuesday, January 17, 2023
                            
                            
                            
                            
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                
                <h1 id="1变量">1.变量</h1>
<h2 id="11-定义变量">1.1 定义变量</h2>
<h3 id="111-普通变量">1.1.1 普通变量</h3>
<ol>
<li>变量名=变量值：变量值必须是一个整体，中间没有特殊字符</li>
<li>变量名=‘变量值’：单引号中的内容，原样赋值</li>
<li>变量名=“变量值”：如果双引号里有其他变量，会把变量的结果进行拼接，然后赋值</li>
</ol>
<p>习惯：数字不加引号，其他默认加双引号</p>
<h3 id="112-命令变量">1.1.2 命令变量</h3>
<ol>
<li>变量名=<code>命令</code></li>
<li>变量名=$(命令)</li>
</ol>
<h2 id="12-使用变量">1.2 使用变量</h2>
<ol>
<li>$变量名：非标准写法</li>
<li>${变量名}：在双引号中使用变量的值，如定义普通变量3</li>
<li>“${变量名}&quot;：标准使用方式</li>
</ol>
<h2 id="13-只读变量">1.3 只读变量</h2>
<p>readonly变量名</p>
<h2 id="14-删除变量">1.4 删除变量</h2>
<p>unset 变量名</p>
<h1 id="2-数组">2. 数组</h1>
<ol>
<li>定义数组：数组名=(值1 值2 … 值n)</li>
<li>给数组的元素赋值：数组名[索引]=值</li>
<li>获取元素：${数组名[下标]}</li>
<li>获取长度：${#数组名[*或@]}</li>
</ol>
<h1 id="3-条件运算符">3. 条件运算符</h1>
<p>条件表达式必须写在[]中，且注意前后保留空格，同时$?可以获取上一条语句的执行结果</p>
<h2 id="31-字符串运算符">3.1 字符串运算符</h2>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">说明</th>
<th style="text-align:left">举例</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">=</td>
<td style="text-align:left">检测两个字符串是否相等</td>
<td style="text-align:left">[ $a = $b ]</td>
</tr>
<tr>
<td style="text-align:left">!=</td>
<td style="text-align:left"></td>
<td style="text-align:left">[ $a != $b ]</td>
</tr>
<tr>
<td style="text-align:left">-z</td>
<td style="text-align:left">检测字符串长度是否为0，不为0返回true</td>
<td style="text-align:left">[ -z $a ]</td>
</tr>
<tr>
<td style="text-align:left">-n</td>
<td style="text-align:left">检测字符串长度是否不为0，不为0返回true</td>
<td style="text-align:left">[ -n $a ]</td>
</tr>
<tr>
<td style="text-align:left">$</td>
<td style="text-align:left"></td>
<td style="text-align:left">[ $a ]</td>
</tr>
</tbody>
</table>
<p>更多可参考http://tiswww.case.edu/php/chet/bash/bash.html#lbBW</p>
<h2 id="32-关系运算符">3.2 关系运算符</h2>
<p>只支持数字，不支持字符串</p>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-eq</td>
<td style="text-align:left">相等</td>
</tr>
<tr>
<td style="text-align:left">-ne</td>
<td style="text-align:left">不相等</td>
</tr>
<tr>
<td style="text-align:left">-gt</td>
<td style="text-align:left">大于</td>
</tr>
<tr>
<td style="text-align:left">-lt</td>
<td style="text-align:left">小于</td>
</tr>
<tr>
<td style="text-align:left">-ge</td>
<td style="text-align:left">大于等于</td>
</tr>
<tr>
<td style="text-align:left">-le</td>
<td style="text-align:left">小于等于</td>
</tr>
</tbody>
</table>
<h2 id="33-布尔运算符">3.3 布尔运算符</h2>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">!</td>
<td style="text-align:left">取反</td>
</tr>
<tr>
<td style="text-align:left">-o</td>
<td style="text-align:left">或运算</td>
</tr>
<tr>
<td style="text-align:left">-a</td>
<td style="text-align:left">与运算</td>
</tr>
</tbody>
</table>
<h2 id="34-逻辑运算符">3.4 逻辑运算符</h2>
<p>必须写在双中括号中[[ ]]，且具有短路功能</p>
<table>
<thead>
<tr>
<th style="text-align:left">运算符</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">&amp;&amp;</td>
<td style="text-align:left">与运算</td>
</tr>
<tr>
<td style="text-align:left">||</td>
<td style="text-align:left">或运算</td>
</tr>
</tbody>
</table>
<h1 id="4-if语句">4. if语句</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> 条件 <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>	语句体
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> 条件 <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>	语句体
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>	语句体
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> 条件 <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>	语句体
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">elif</span> <span style="color:#f92672">[</span> 条件 <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>	语句体
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>	语句体
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span></code></pre></div><h1 id="5-for语句">5. for语句</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#66d9ef">for</span> 变量 in 范围
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	循环体
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># eg:</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> var in A B C D E F
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	echo <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>var<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span></code></pre></div><h1 id="6-while语句">6. while语句</h1>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#66d9ef">while</span> 条件
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	循环体
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#eg. </span>
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> -le <span style="color:#ae81ff">10</span> <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	echo <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>a<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">((</span>a++<span style="color:#f92672">))</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span></code></pre></div><h1 id="7-demo">7. demo</h1>
<p>start.sh</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>bashPath<span style="color:#f92672">=</span>/usr/local/app
</span></span><span style="display:flex;"><span>trpcPath<span style="color:#f92672">=</span>/usr/local/application/bin
</span></span><span style="display:flex;"><span>logFile<span style="color:#f92672">=</span>$bashPath/startScript.log
</span></span><span style="display:flex;"><span>server<span style="color:#f92672">=</span>datatalk-webserver-0.0.1-SNAPSHOT.jar
</span></span><span style="display:flex;"><span>projectLogPath<span style="color:#f92672">=</span>/usr/local/app/datatalk/logs
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>source /etc/profile
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> ! -d $bashPath <span style="color:#f92672">]</span>;<span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    mkdir -p $bashPath
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> ! -d $projectLogPath <span style="color:#f92672">]</span>;<span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    mkdir -p $projectLogPath
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>sudo -- sh -c -e <span style="color:#e6db74">&#34;echo &#39;9.146.161.37 api.tapd.oa.com apiv2.tapd.oa.com&#39; &gt;&gt; /etc/hosts&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#rasp setup</span>
</span></span><span style="display:flex;"><span>hasOuternet<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>echo $SUMERU_SERVER | grep <span style="color:#e6db74">&#34;outer_net&#34;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> $env <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;prod&#34;</span> <span style="color:#f92672">]]</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">[[</span> $hasOuternet !<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span> <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  echo <span style="color:#e6db74">&#39;use rasp agent&#39;</span>
</span></span><span style="display:flex;"><span>  cd /usr/share/java
</span></span><span style="display:flex;"><span>  sudo rm -f tencent.rasp-1.0.2.jar
</span></span><span style="display:flex;"><span>  sudo rm -f libmsg_queue.so
</span></span><span style="display:flex;"><span>  sudo rm -f tencent.rasp.jar
</span></span><span style="display:flex;"><span>  sudo wget https://mirrors.tencent.com/repository/generic/RASP_JAVA/v1.0.2/tencent.rasp-1.0.2.jar
</span></span><span style="display:flex;"><span>  sudo wget https://mirrors.tencent.com/repository/generic/RASP_JAVA/v1.0.2/libmsg_queue.so
</span></span><span style="display:flex;"><span>  sudo ln -s /usr/share/java/tencent.rasp-1.0.2.jar /usr/share/java/tencent.rasp.jar
</span></span><span style="display:flex;"><span>  raspAgent<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;-javaagent:/usr/share/java/tencent.rasp.jar&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> $env <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;prod&#34;</span> <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  apm_service_name<span style="color:#f92672">=</span>beacon-datatalk
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">elif</span> <span style="color:#f92672">[[</span> $env <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;pre&#34;</span> <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  apm_service_name<span style="color:#f92672">=</span>beacon-datatalk-gray
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">elif</span> <span style="color:#f92672">[[</span> $env <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;public_prod&#34;</span> <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  apm_service_name<span style="color:#f92672">=</span>beacon-datatalk-public_prod
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">elif</span> <span style="color:#f92672">[[</span> $env <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;public_pre&#34;</span> <span style="color:#f92672">]]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  apm_service_name<span style="color:#f92672">=</span>beacon-datatalk-public_pre
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>  apm_service_name<span style="color:#f92672">=</span>beacon-datatalk-test
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;apm_service_name=</span><span style="color:#e6db74">${</span>apm_service_name<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>&gt;&gt; $logFile
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#apm setup</span>
</span></span><span style="display:flex;"><span>cd /usr/local/app/
</span></span><span style="display:flex;"><span>rm -rf apm*
</span></span><span style="display:flex;"><span>wget -O apm.tar.gz http://apm-75118.cos.sz.gfp.tencent-cloud.com/f02ee61e8cd34e579fca722cab7d5a75db/apm-agent-0.0.4-SNAPSHOT.tar.gz
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> $? -eq <span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    tar -xzvf apm.tar.gz
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;agent.service_name=</span><span style="color:#e6db74">${</span>apm_service_name<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> &gt;&gt; /usr/local/app/apm-agent/config/agent.config
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;plugin.cgi.extract_expression_response=response&#34;</span> &gt;&gt; /usr/local/app/apm-agent/config/agent.config
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;plugin.cgi.extract_expression_response_code=response.code&#34;</span> &gt;&gt; /usr/local/app/apm-agent/config/agent.config
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;plugin.cgi.extract_expression_response_message=response.message&#34;</span> &gt;&gt; /usr/local/app/apm-agent/config/agent.config
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 设置0代表正确的 biz_code</span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;plugin.cgi.success_response_code=0&#34;</span> &gt;&gt; /usr/local/app/apm-agent/config/agent.config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># 过滤心跳</span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;agent.ignore_path=/&#34;</span> &gt;&gt; /usr/local/app/apm-agent/config/agent.config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> $env !<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;prod&#34;</span> <span style="color:#f92672">]]</span> <span style="color:#f92672">||</span> <span style="color:#f92672">[[</span> $cgiRecord <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;off&#34;</span> <span style="color:#f92672">]]</span>;<span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        echo <span style="color:#e6db74">&#34;plugin.cgi.record_cgi_scene=false&#34;</span> &gt;&gt; /usr/local/app/apm-agent/config/agent.config
</span></span><span style="display:flex;"><span>        echo <span style="color:#e6db74">&#34;plugin.cgi.record_cgi_scene=false&#34;</span> &gt;&gt;$logFile
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>    cp /usr/local/app/apm-agent/optional-plugins/apm-jdbc-commons-0.0.4-SNAPSHOT.jar /usr/local/app/apm-agent/plugins/
</span></span><span style="display:flex;"><span>    cp /usr/local/app/apm-agent/optional-plugins/apm-mysql-5.x-plugin-0.0.4-SNAPSHOT.jar /usr/local/app/apm-agent/plugins/
</span></span><span style="display:flex;"><span>    cp /usr/local/app/apm-agent/optional-plugins/apm-mysql-6.x-plugin-0.0.4-SNAPSHOT.jar /usr/local/app/apm-agent/plugins/
</span></span><span style="display:flex;"><span>    cp /usr/local/app/apm-agent/optional-plugins/apm-mysql-8.x-plugin-0.0.4-SNAPSHOT.jar /usr/local/app/apm-agent/plugins/
</span></span><span style="display:flex;"><span>    cp /usr/local/app/apm-agent/optional-plugins/apm-mysql-commons-0.0.4-SNAPSHOT.jar /usr/local/app/apm-agent/plugins/
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;apm download failed&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#混沌工程----------------start</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>SUMERU_ENV<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;formal&#34;</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        export ChaosNamespace<span style="color:#f92672">=</span>Production
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>        export ChaosNamespace<span style="color:#f92672">=</span>Development
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>export ChaosService<span style="color:#f92672">=</span>chaos.trpc.<span style="color:#e6db74">${</span>SUMERU_APP<span style="color:#e6db74">}</span>.<span style="color:#e6db74">${</span>SUMERU_SERVER<span style="color:#e6db74">}</span>-<span style="color:#e6db74">${</span>SUMERU_ENV<span style="color:#e6db74">}</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;ChaosService: </span><span style="color:#e6db74">${</span>ChaosService<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> &gt;&gt; $logFile
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;ChaosNamespace: </span><span style="color:#e6db74">${</span>ChaosNamespace<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> &gt;&gt; $logFile
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 判断agent是否存在</span>
</span></span><span style="display:flex;"><span>processName<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;chaos_agent&#34;</span>
</span></span><span style="display:flex;"><span>processNum<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>ps -ef | grep -w  $processName | grep -v grep | wc -l<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;processNum: </span><span style="color:#e6db74">${</span>processNum<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> &gt;&gt; $logFile
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> 0 <span style="color:#f92672">==</span> $processNum <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e"># 执行安装agent脚本</span>
</span></span><span style="display:flex;"><span>  sudo -S su root -c <span style="color:#e6db74">&#34;export chaos_port=</span>$chaos_port<span style="color:#e6db74"> ; cd /usr/local/ &amp;&amp; curl http://chaos.oa.com/chaosblade/install | bash -s </span><span style="color:#e6db74">${</span>ChaosService<span style="color:#e6db74">}</span><span style="color:#e6db74">_</span><span style="color:#e6db74">${</span>ChaosNamespace<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#混沌工程----------------end</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>sudo chmod <span style="color:#ae81ff">777</span>  /etc/resolv.conf
</span></span><span style="display:flex;"><span>echo  &gt;  /etc/resolv.conf
</span></span><span style="display:flex;"><span>echo  <span style="color:#e6db74">&#34;nameserver 10.165.87.54&#34;</span> &gt;  /etc/resolv.conf
</span></span><span style="display:flex;"><span>echo  <span style="color:#e6db74">&#34;nameserver 10.165.86.15&#34;</span> &gt;&gt;  /etc/resolv.conf
</span></span><span style="display:flex;"><span>sudo chmod <span style="color:#ae81ff">644</span>  /etc/resolv.conf
</span></span><span style="display:flex;"><span>chmod a+x $trpcPath/$server
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[[</span> $env <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;wechat&#34;</span> <span style="color:#f92672">]]</span> <span style="color:#f92672">||</span> <span style="color:#f92672">[[</span> $env <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;wechattest&#34;</span> <span style="color:#f92672">]]</span>;<span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    nohup java $raspAgent -javaagent:/usr/local/app/apm-agent/apm-agent-latest.jar $app_jvm_params -XX:MetaspaceSize<span style="color:#f92672">=</span>128M -XX:MaxMetaspaceSize<span style="color:#f92672">=</span>1024M -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction<span style="color:#f92672">=</span><span style="color:#ae81ff">70</span> -XX:+UseCMSCompactAtFullCollection -XX:ErrorFile<span style="color:#f92672">=</span>/usr/local/app/java_error.log -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath<span style="color:#f92672">=</span>/usr/local/app/ -Xloggc:/usr/local/app/gc.log -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span> -XX:GCLogFileSize<span style="color:#f92672">=</span>4096k -jar $trpcPath/$server  2&gt;&amp;<span style="color:#ae81ff">1</span> | tee  $trpcPath/server.log &gt;&gt; $trpcPath/server.log 2&gt;&amp;<span style="color:#ae81ff">1</span> &amp;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    nohup java -Dplugins.telemetry.tpstelemetry.metrics.ip<span style="color:#f92672">=</span>$HOST_IP  -Dplugins.telemetry.tpstelemetry.metrics.port<span style="color:#f92672">=</span>$METRICS_PORT  $raspAgent -javaagent:/usr/local/app/apm-agent/apm-agent-latest.jar $app_jvm_params -XX:MetaspaceSize<span style="color:#f92672">=</span>128M -XX:MaxMetaspaceSize<span style="color:#f92672">=</span>1024M -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction<span style="color:#f92672">=</span><span style="color:#ae81ff">70</span> -XX:+UseCMSCompactAtFullCollection -XX:ErrorFile<span style="color:#f92672">=</span>/usr/local/app/java_error.log -XX:+PrintGCDetails -XX:+PrintGCDateStamps -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath<span style="color:#f92672">=</span>/usr/local/app/ -Xloggc:/usr/local/app/gc.log -XX:+UseGCLogFileRotation -XX:NumberOfGCLogFiles<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span> -XX:GCLogFileSize<span style="color:#f92672">=</span>4096k -jar $trpcPath/$server  2&gt;&amp;<span style="color:#ae81ff">1</span> | tee  $trpcPath/server.log &gt;&gt; $trpcPath/server.log 2&gt;&amp;<span style="color:#ae81ff">1</span> &amp;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>sleep <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>num<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>ps -ef |grep $trpcPath/$server |grep -v grep|wc -l<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;the num of process after start is </span>$num<span style="color:#e6db74">&#34;</span>&gt;&gt;$logFile
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> $num -lt <span style="color:#ae81ff">1</span> <span style="color:#f92672">]</span>;<span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    echo <span style="color:#e6db74">&#34;the process is not exit after start &#34;</span>&gt;&gt;$logFile
</span></span><span style="display:flex;"><span>    exit <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#探活检测</span>
</span></span><span style="display:flex;"><span>CHECK_URL<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;http://127.0.0.1:</span>$main_port<span style="color:#e6db74">/server/example/hello&#34;</span>
</span></span><span style="display:flex;"><span>CHECK_HTTP_CODE<span style="color:#f92672">=</span><span style="color:#ae81ff">401</span>
</span></span><span style="display:flex;"><span>HTTP_CODE<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>curl -I -m <span style="color:#ae81ff">10</span> -o /dev/null -s -w %<span style="color:#f92672">{</span>http_code<span style="color:#f92672">}</span><span style="color:#e6db74">&#34;\n&#34;</span> $CHECK_URL<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>startProcessFail<span style="color:#f92672">=</span><span style="color:#ae81ff">10002</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>echo $HTTP_CODE
</span></span><span style="display:flex;"><span>CHECK_COUNT<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">until</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">${</span>HTTP_CODE<span style="color:#e6db74">}</span> <span style="color:#f92672">==</span> $CHECK_HTTP_CODE <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>        sleep 1s
</span></span><span style="display:flex;"><span>        HTTP_CODE<span style="color:#f92672">=</span><span style="color:#e6db74">`</span>curl -I -m <span style="color:#ae81ff">10</span> -o /dev/null -s -w %<span style="color:#f92672">{</span>http_code<span style="color:#f92672">}</span><span style="color:#e6db74">&#34;\n&#34;</span> $CHECK_URL<span style="color:#e6db74">`</span>
</span></span><span style="display:flex;"><span>        echo <span style="color:#e6db74">&#34;check url http code on </span>$CHECK_URL<span style="color:#e6db74">, http code </span>$CHECK_HTTP_CODE<span style="color:#e6db74"> excepted, now is </span>$HTTP_CODE<span style="color:#e6db74">&#34;</span> &gt;&gt; $logFile
</span></span><span style="display:flex;"><span>        echo $HTTP_CODE
</span></span><span style="display:flex;"><span>        CHECK_COUNT<span style="color:#f92672">=</span><span style="color:#66d9ef">$((</span><span style="color:#e6db74">${</span>CHECK_COUNT<span style="color:#e6db74">}</span> <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span><span style="color:#66d9ef">))</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> $CHECK_COUNT -eq <span style="color:#ae81ff">200</span> <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>          exit $startProcessFail
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>exit <span style="color:#ae81ff">0</span>
</span></span></code></pre></div><p>stop.sh</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>bashPath<span style="color:#f92672">=</span>/usr/local/app
</span></span><span style="display:flex;"><span>trpcPath<span style="color:#f92672">=</span>/usr/local/application/bin
</span></span><span style="display:flex;"><span>logFile<span style="color:#f92672">=</span>$bashPath/startScript.log
</span></span><span style="display:flex;"><span>server<span style="color:#f92672">=</span>datatalk-webserver-0.0.1-SNAPSHOT.jar
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>pidInfo<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>ps -ef | grep <span style="color:#e6db74">&#34;</span>$trpcPath<span style="color:#e6db74">/</span>$server<span style="color:#e6db74">&#34;</span> | grep -v grep | awk <span style="color:#e6db74">&#39;{print $2}&#39;</span><span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> pid in $pidInfo;<span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>	kill -9 $pid
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#check process num</span>
</span></span><span style="display:flex;"><span>num<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>ps -ef | grep <span style="color:#e6db74">&#34;</span>$trpcPath<span style="color:#e6db74">/</span>$server<span style="color:#e6db74">&#34;</span> | grep -v grep |wc -l<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> $num -gt <span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span>;<span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>	echo <span style="color:#e6db74">&#34;`date` after stop process in force way the processNum is </span>$num<span style="color:#e6db74"> still bigger than 0&#34;</span>&gt;&gt;$logFile
</span></span><span style="display:flex;"><span>	exit <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>exit <span style="color:#ae81ff">0</span>
</span></span></code></pre></div>

                

                
                <hr>
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/post/omit_exception_stack/" data-toggle="tooltip" data-placement="top" title="异常堆栈信息丢失问题定位">&larr;
                            Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/post/file/" data-toggle="tooltip" data-placement="top" title="Java File常用操作总结">Next
                            Post &rarr;</a>
                    </li>
                    
                </ul>
                

                



            </div>

            
            
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
            

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                
                

                
                
            </div>
        </div>
    </div>
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">                  
                    
                    <li>
                        <a href="mailto:is.eric.wu@gmail.com">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    
                    <li>
                        <a target="_blank" href="https://weibo.com/1965461781/profile?rightmod=1&amp;wvr=6&amp;mod=personinfo">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    

		            
                    
                    <li>
                        <a target="_blank" href="/img/we_chat.JPG">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-weixin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    <li>
                        <a target="_blank" href="https://github.com/ericwu0930/">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		            
                    
                    
                    
                    <li>
                        <a target="_blank" href="https://www.linkedin.com/in/hao-wu-5566a416a">
                            <span class="fa-stack fa-lg">
                                <i class="fas fa-circle fa-stack-2x"></i>
                                <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
		           
                    
                    
                    
                    
                    
                    
            
            
            
           
             </ul>
		<p class="copyright text-muted">
                    Copyright &copy; Eric&#39;s Blog 2023
                    <br>
                    <a href="https://themes.gohugo.io/hugo-theme-cleanwhite">CleanWhite Hugo Theme</a> by <a href="https://zhaohuabing.com">Huabing</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>






<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


    loadAsync("\/js\/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>






</body>
</html>
